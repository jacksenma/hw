$(document).ready(showVipOrder());


function showVipOrder(){
	// 基于准备好的dom，初始化echarts实例
    // 指定图表的配置项和数据
	var myChart = echarts.init(document.getElementById("VipOrder"));
	
	myChart.showLoading();
	 var date=[];
	 var orderNum=[];//进行预定的会员数
//	 var leaveNum=[];
	$.ajax({
        type: "get",
        url: "getVipOrderNum",
        
        success: function(data){
        	var da=eval("("+data+")");
        	for(var i=0;i<da.checks.length;i++){
        		date[i]=da.checks[i].date;
        		enterNum[i]=da.checks[i].enterNum;
        		leaveNum[i]=da.checks[i].leaveNum;
    		
    	}

        	var option = {
        	        title: {
        	            text: '入住/退房情况图'
        	        },
        	        tooltip : {  
        	            trigger: 'axis'  
        	        }, 
        	        legend: {
        	        	data:['入住','退房']
        	        },
        	        toolbox: {
        	            feature: {
        	                dataZoom: {
        	                    yAxisIndex: 'none'
        	                },
        	                restore: {},
        	                saveAsImage: {}
        	            }
        	        },
        	        dataZoom: [
        	            {
        	                type: 'slider',
        	                show: true,
        	                xAxisIndex: [0],
        	                start: 0,
        	                end: 100
        	            },
        	            {
        	                type: 'slider',
        	                show: true,
        	                yAxisIndex: [0],
        	                left: '93%',
        	                start: 0,
        	                end: 100
        	            },
        	            {
        	                type: 'inside',
        	                xAxisIndex: [0],
        	                start: 0,
        	                end: 100
        	            },
        	            {
        	                type: 'inside',
        	                yAxisIndex: [0],
        	                start: 0,
        	                end: 100
        	            }
        	        ], 
        	       
//        	        grid: {  
//        	            left: '3%',  
//        	            right: '4%',  
//        	            bottom: '3%',  
//        	            containLabel: true  
//        	        },
        	        xAxis : [  
        	            {  
        	                type : 'category',  
        	                boundaryGap : false,  
        	                data : date  
        	            }  
        	        ],  
        	        yAxis : [  
        	            {  	name:'房间数(间)',
        	                type : 'value', 
        	                title:'房间数'
        	            }  
        	        ],
        	        series : [  
        	            {  
        	                name:'入住',  
        	                type:'line',  
//        	                stack: '房间数',  
//        	                areaStyle: {normal: {}},  
        	                data:enterNum
        	            },  
        	            {  
        	                name:'退房',  
        	                type:'line',  
//        	                stack: '房间数',  
//        	                areaStyle: {normal: {}},  
        	                data:leaveNum  
        	            }  
        	        ]  
        	    };

        	    // 使用刚指定的配置项和数据显示图表。
        	    
        	    myChart.setOption(option);
        	    myChart.hideLoading();
        	    $("#EandL").resize(function(){
                    $(myChart).resize();
                 })
        	}
     });
    
}